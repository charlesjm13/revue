(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subvue"],{"0d48":function(e,t,s){"use strict";s("b0c0"),s("a4d3"),s("e01a");var u=s("7a23"),n={class:"subvue-info"},c=Object(u["j"])("p",null,[Object(u["j"])("strong",null,"Moderators")],-1);function r(e,t,s,r,i,a){var b=Object(u["A"])("router-link");return Object(u["s"])(),Object(u["f"])("div",n,[Object(u["j"])(b,{class:"heading",to:{name:"Subvue",params:{name:s.subvue.permalink}}},{default:Object(u["J"])((function(){return[Object(u["j"])("h2",null,Object(u["D"])(s.subvue.name),1)]})),_:1},8,["to"]),Object(u["j"])("p",null,Object(u["D"])(s.subvue.description),1),i.subscribed?Object(u["g"])("",!0):(Object(u["s"])(),Object(u["f"])("button",{key:0,onClick:t[1]||(t[1]=function(){return a.subscribe&&a.subscribe.apply(a,arguments)}),class:"subscribe-button"},"Subscribe")),i.subscribed?(Object(u["s"])(),Object(u["f"])("button",{key:1,onClick:t[2]||(t[2]=function(){return a.unsubscribe&&a.unsubscribe.apply(a,arguments)}),class:"subscribe-button"},"Unsubscibe")):Object(u["g"])("",!0),c,Object(u["j"])("ul",null,[(Object(u["s"])(!0),Object(u["f"])(u["a"],null,Object(u["y"])(s.subvue.moderators,(function(e){return Object(u["s"])(),Object(u["f"])("li",{key:e.username},[Object(u["j"])(b,{to:{name:"User",params:{username:e.username}}},{default:Object(u["J"])((function(){return[Object(u["i"])(Object(u["D"])(e.username),1)]})),_:2},1032,["to"])])})),128))])])}s("4de4");var i=s("aaff"),a=s("bf80"),b={name:"subvue-info",props:["subvue"],data:function(){return{subscribed:!1}},methods:{subscribe:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return this.$router.push({name:"Login"}),!1;i["a"].subscribe(this.subvue.permalink).then((function(t){e.$store.dispatch("updateSubscribedSubvues",t.data.subscribed),e.checkSubscribed()}))},unsubscribe:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return this.$router.push({name:"Login"}),!1;i["a"].unsubscribe(this.subvue.permalink).then((function(t){e.$store.dispatch("updateSubscribedSubvues",t.data.subscribed),e.checkSubscribed()}))},checkSubscribed:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return!1;a["a"].username(this.$store.state.user.username).then((function(t){var s=t.data.subscribed.filter((function(t){return t.permalink==e.subvue.permalink}));e.subscribed=s.length>0}))}},mounted:function(){this.checkSubscribed()},watch:{subvue:function(){this.checkSubscribed()}}};s("6469");b.render=r;t["a"]=b},"0e34":function(e,t,s){"use strict";s("fb43")},"1c16":function(e,t,s){"use strict";s("b0c0"),s("a4d3"),s("e01a");var u=s("7a23"),n=Object(u["M"])("data-v-45544137");Object(u["v"])("data-v-45544137");var c={class:"post-preview"},r=Object(u["i"])(" by "),i={class:"blue-highlight"},a=Object(u["i"])(" in "),b={class:"blue-highlight"};Object(u["t"])();var o=n((function(e,t,s,o,f,d){var l=Object(u["A"])("router-link"),j=Object(u["A"])("Vote");return Object(u["s"])(),Object(u["f"])("div",c,[Object(u["j"])(l,{to:{name:"Post",params:{subvuePermalink:s.post.subvue.permalink,id:s.post.id}},class:"image-area"},{default:n((function(){return[Object(u["j"])("div",{style:"background-image: url(http://localhost:5000/api/file/"+s.post.image+");",class:"image"},null,4)]})),_:1},8,["to"]),Object(u["j"])(j,{upvotes:s.post.upvotes,downvotes:s.post.downvotes,postId:s.post.id,onError:t[1]||(t[1]=function(t){e.error=t})},null,8,["upvotes","downvotes","postId"]),Object(u["j"])(l,{to:{name:"Post",params:{subvuePermalink:s.post.subvue.permalink,id:s.post.id}},class:"body-area"},{default:n((function(){return[Object(u["j"])("h3",null,[Object(u["z"])(e.$slots,"default",{},void 0,!0)]),Object(u["j"])("p",null,[Object(u["j"])("span",null,"on "+Object(u["D"])(s.post.created),1),Object(u["K"])(Object(u["j"])("span",null,[r,Object(u["j"])("span",i,"u/"+Object(u["D"])(s.post.user.username),1)],512),[[u["H"],!s.hideUser]]),Object(u["K"])(Object(u["j"])("span",null,[a,Object(u["j"])("span",b,"s/"+Object(u["D"])(s.post.subvue.name),1)],512),[[u["H"],!s.hideSubvue]])]),Object(u["j"])("p",null,Object(u["D"])(d.description),1)]})),_:3},8,["to"])])})),f=(s("fb6a"),s("e70a")),d={name:"post-preview",props:{post:{},hideUser:{default:!1},hideSubvue:{default:!1}},components:{Vote:f["a"]},computed:{description:function(){return this.post.content.slice(0,750)+"..."}}};s("0e34");d.render=o,d.__scopeId="data-v-45544137";t["a"]=d},"4c7d":function(e,t,s){},"4de4":function(e,t,s){"use strict";var u=s("23e7"),n=s("b727").filter,c=s("1dde"),r=s("ae40"),i=c("filter"),a=r("filter");u({target:"Array",proto:!0,forced:!i||!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},6469:function(e,t,s){"use strict";s("92e5")},7728:function(e,t,s){"use strict";s("4c7d")},8418:function(e,t,s){"use strict";var u=s("c04e"),n=s("9bf2"),c=s("5c6c");e.exports=function(e,t,s){var r=u(t);r in e?n.f(e,r,c(0,s)):e[r]=s}},"92e5":function(e,t,s){},aaff:function(e,t,s){"use strict";var u=s("3f4a");t["a"]={item:function(e){return Object(u["a"])().get("subvues/"+e)},create:function(e){return Object(u["a"])().post("subvues",e)},posts:function(e){return Object(u["a"])().get("subvues/"+e+"/posts")},subscribe:function(e){return Object(u["a"])().post("subvues/"+e+"/subscribe")},unsubscribe:function(e){return Object(u["a"])().post("subvues/"+e+"/unsubscribe")}}},f073:function(e,t,s){"use strict";s.r(t);var u=s("7a23"),n=Object(u["M"])("data-v-4054d65a");Object(u["v"])("data-v-4054d65a");var c={class:"subvue"},r={class:"container"},i=Object(u["j"])("h1",null,"Recent Posts",-1),a={key:1};Object(u["t"])();var b=n((function(e,t,s,b,o,f){var d=Object(u["A"])("PostPreview"),l=Object(u["A"])("CreateButton"),j=Object(u["A"])("SubvueInfo");return Object(u["s"])(),Object(u["f"])("div",c,[Object(u["j"])("div",r,[i,(Object(u["s"])(!0),Object(u["f"])(u["a"],null,Object(u["y"])(o.posts,(function(e){return Object(u["s"])(),Object(u["f"])(d,{hideSubvue:!0,key:e.id,post:e},{default:n((function(){return[Object(u["i"])(Object(u["D"])(e.title),1)]})),_:2},1032,["post"])})),128)),Object(u["j"])(l)]),o.subvue?(Object(u["s"])(),Object(u["f"])(j,{key:0,class:"subvue-info",subvue:o.subvue},null,8,["subvue"])):(Object(u["s"])(),Object(u["f"])("div",a))])})),o=(s("b0c0"),s("0d48")),f=s("3ffe"),d=s("1c16"),l=s("aaff"),j={name:"subvue",components:{SubvueInfo:o["a"],CreateButton:f["a"],PostPreview:d["a"]},data:function(){return{permalink:this.$route.params.name,posts:[],subvue:null}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;l["a"].item(this.permalink).then((function(t){e.subvue=t.data})),l["a"].posts(this.permalink).then((function(t){e.posts=t.data}))}},watch:{$route:function(){this.permalink=this.$route.params.name,this.fetchData()}}};s("7728");j.render=b,j.__scopeId="data-v-4054d65a";t["default"]=j},fb43:function(e,t,s){},fb6a:function(e,t,s){"use strict";var u=s("23e7"),n=s("861d"),c=s("e8b5"),r=s("23cb"),i=s("50c4"),a=s("fc6a"),b=s("8418"),o=s("b622"),f=s("1dde"),d=s("ae40"),l=f("slice"),j=d("slice",{ACCESSORS:!0,0:0,1:2}),p=o("species"),v=[].slice,O=Math.max;u({target:"Array",proto:!0,forced:!l||!j},{slice:function(e,t){var s,u,o,f=a(this),d=i(f.length),l=r(e,d),j=r(void 0===t?d:t,d);if(c(f)&&(s=f.constructor,"function"!=typeof s||s!==Array&&!c(s.prototype)?n(s)&&(s=s[p],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return v.call(f,l,j);for(u=new(void 0===s?Array:s)(O(j-l,0)),o=0;l<j;l++,o++)l in f&&b(u,o,f[l]);return u.length=o,u}})}}]);
//# sourceMappingURL=subvue.3338e6e7.js.map