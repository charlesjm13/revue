(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subvue"],{"0d48":function(e,t,s){"use strict";s("b0c0"),s("a4d3"),s("e01a");var u=s("7a23"),n={class:"subvue-info"},c=Object(u["g"])("p",null,[Object(u["g"])("strong",null,"Moderators")],-1);function r(e,t,s,r,i,a){var b=Object(u["x"])("router-link");return Object(u["p"])(),Object(u["d"])("div",n,[Object(u["g"])(b,{class:"heading",to:{name:"Subvue",params:{name:s.subvue.permalink}}},{default:Object(u["E"])((function(){return[Object(u["g"])("h2",null,Object(u["z"])(s.subvue.name),1)]})),_:1},8,["to"]),Object(u["g"])("p",null,Object(u["z"])(s.subvue.description),1),i.subscribed?Object(u["e"])("",!0):(Object(u["p"])(),Object(u["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){return a.subscribe&&a.subscribe.apply(a,arguments)}),class:"subscribe-button"},"Subscribe")),i.subscribed?(Object(u["p"])(),Object(u["d"])("button",{key:1,onClick:t[2]||(t[2]=function(){return a.unsubscribe&&a.unsubscribe.apply(a,arguments)}),class:"subscribe-button"},"Unsubscibe")):Object(u["e"])("",!0),c,Object(u["g"])("ul",null,[(Object(u["p"])(!0),Object(u["d"])(u["a"],null,Object(u["v"])(s.subvue.moderators,(function(e){return Object(u["p"])(),Object(u["d"])("li",{key:e.username},[Object(u["g"])(b,{to:{name:"User",params:{username:e.username}}},{default:Object(u["E"])((function(){return[Object(u["f"])(Object(u["z"])(e.username),1)]})),_:2},1032,["to"])])})),128))])])}s("4de4");var i=s("aaff"),a=s("bf80"),b={name:"subvue-info",props:["subvue"],data:function(){return{subscribed:!1}},methods:{subscribe:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return this.$router.push({name:"Login"}),!1;i["a"].subscribe(this.subvue.permalink).then((function(t){e.$store.dispatch("updateSubscribedSubvues",t.data.subscribed),e.checkSubscribed()}))},unsubscribe:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return this.$router.push({name:"Login"}),!1;i["a"].unsubscribe(this.subvue.permalink).then((function(t){e.$store.dispatch("updateSubscribedSubvues",t.data.subscribed),e.checkSubscribed()}))},checkSubscribed:function(){var e=this;if(!this.$store.state.isUserLoggedIn)return!1;a["a"].username(this.$store.state.user.username).then((function(t){var s=t.data.subscribed.filter((function(t){return t.permalink==e.subvue.permalink}));e.subscribed=s.length>0}))}},mounted:function(){this.checkSubscribed()},watch:{subvue:function(){this.checkSubscribed()}}};s("6469");b.render=r;t["a"]=b},"0e34":function(e,t,s){"use strict";s("86cb")},"1c16":function(e,t,s){"use strict";s("b0c0"),s("a4d3"),s("e01a");var u=s("7a23"),n=Object(u["H"])("data-v-45544137");Object(u["s"])("data-v-45544137");var c={class:"post-preview"},r=Object(u["f"])(" by "),i={class:"blue-highlight"},a=Object(u["f"])(" in "),b={class:"blue-highlight"};Object(u["q"])();var o=n((function(e,t,s,o,d,f){var l=Object(u["x"])("router-link"),p=Object(u["x"])("Vote");return Object(u["p"])(),Object(u["d"])("div",c,[Object(u["g"])(l,{to:{name:"Post",params:{subvuePermalink:s.post.subvue.permalink,id:s.post.id}},class:"image-area"},{default:n((function(){return[Object(u["g"])("div",{style:"background-image: url(http://localhost:5000/api/file/"+s.post.image+");",class:"image"},null,4)]})),_:1},8,["to"]),Object(u["g"])(p,{upvotes:s.post.upvotes,downvotes:s.post.downvotes,postId:s.post.id,onError:t[1]||(t[1]=function(t){e.error=t})},null,8,["upvotes","downvotes","postId"]),Object(u["g"])(l,{to:{name:"Post",params:{subvuePermalink:s.post.subvue.permalink,id:s.post.id}},class:"body-area"},{default:n((function(){return[Object(u["g"])("h3",null,[Object(u["w"])(e.$slots,"default",{},void 0,!0)]),Object(u["g"])("p",null,[Object(u["g"])("span",null,"on "+Object(u["z"])(s.post.created),1),Object(u["F"])(Object(u["g"])("span",null,[r,Object(u["g"])("span",i,"u/"+Object(u["z"])(s.post.user.username),1)],512),[[u["C"],!s.hideUser]]),Object(u["F"])(Object(u["g"])("span",null,[a,Object(u["g"])("span",b,"s/"+Object(u["z"])(s.post.subvue.name),1)],512),[[u["C"],!s.hideSubvue]])]),Object(u["g"])("p",null,Object(u["z"])(f.description),1)]})),_:3},8,["to"])])})),d=(s("fb6a"),s("e70a")),f={name:"post-preview",props:{post:{},hideUser:{default:!1},hideSubvue:{default:!1}},components:{Vote:d["a"]},computed:{description:function(){return this.post.content.slice(0,750)+"..."}}};s("0e34");f.render=o,f.__scopeId="data-v-45544137";t["a"]=f},"20f3":function(e,t,s){"use strict";s("8d4f")},"4de4":function(e,t,s){"use strict";var u=s("23e7"),n=s("b727").filter,c=s("1dde"),r=s("ae40"),i=c("filter"),a=r("filter");u({target:"Array",proto:!0,forced:!i||!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},6469:function(e,t,s){"use strict";s("a554")},8418:function(e,t,s){"use strict";var u=s("c04e"),n=s("9bf2"),c=s("5c6c");e.exports=function(e,t,s){var r=u(t);r in e?n.f(e,r,c(0,s)):e[r]=s}},"86cb":function(e,t,s){},"8d4f":function(e,t,s){},a554:function(e,t,s){},aaff:function(e,t,s){"use strict";var u=s("3f4a");t["a"]={item:function(e){return Object(u["a"])().get("subvues/"+e)},create:function(e){return Object(u["a"])().post("subvues",e)},posts:function(e){return Object(u["a"])().get("subvues/"+e+"/posts")},subscribe:function(e){return Object(u["a"])().post("subvues/"+e+"/subscribe")},unsubscribe:function(e){return Object(u["a"])().post("subvues/"+e+"/unsubscribe")}}},f073:function(e,t,s){"use strict";s.r(t);var u=s("7a23"),n=Object(u["H"])("data-v-9b7f8e64");Object(u["s"])("data-v-9b7f8e64");var c={class:"subvue"},r={class:"container"},i=Object(u["g"])("h1",null,"Recent Posts",-1),a={key:1};Object(u["q"])();var b=n((function(e,t,s,b,o,d){var f=Object(u["x"])("PostPreview"),l=Object(u["x"])("CreateButton"),p=Object(u["x"])("SubvueInfo");return Object(u["p"])(),Object(u["d"])("div",c,[Object(u["g"])("div",r,[i,(Object(u["p"])(!0),Object(u["d"])(u["a"],null,Object(u["v"])(o.posts,(function(e){return Object(u["p"])(),Object(u["d"])(f,{hideSubvue:!0,key:e.id,post:e},{default:n((function(){return[Object(u["f"])(Object(u["z"])(e.title),1)]})),_:2},1032,["post"])})),128)),Object(u["g"])(l)]),o.subvue?(Object(u["p"])(),Object(u["d"])(p,{key:0,class:"subvue-info",subvue:o.subvue},null,8,["subvue"])):(Object(u["p"])(),Object(u["d"])("div",a))])})),o=(s("b0c0"),s("0d48")),d=s("3ffe"),f=s("1c16"),l=s("aaff"),p={name:"subvue",components:{SubvueInfo:o["a"],CreateButton:d["a"],PostPreview:f["a"]},data:function(){return{permalink:this.$route.params.name,posts:[],subvue:null}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;l["a"].item(this.permalink).then((function(t){e.subvue=t.data})),l["a"].posts(this.permalink).then((function(t){e.posts=t.data}))}},watch:{$route:function(){this.permalink=this.$route.params.name,this.fetchData()}}};s("20f3");p.render=b,p.__scopeId="data-v-9b7f8e64";t["default"]=p},fb6a:function(e,t,s){"use strict";var u=s("23e7"),n=s("861d"),c=s("e8b5"),r=s("23cb"),i=s("50c4"),a=s("fc6a"),b=s("8418"),o=s("b622"),d=s("1dde"),f=s("ae40"),l=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=o("species"),O=[].slice,j=Math.max;u({target:"Array",proto:!0,forced:!l||!p},{slice:function(e,t){var s,u,o,d=a(this),f=i(d.length),l=r(e,f),p=r(void 0===t?f:t,f);if(c(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!c(s.prototype)?n(s)&&(s=s[v],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return O.call(d,l,p);for(u=new(void 0===s?Array:s)(j(p-l,0)),o=0;l<p;l++,o++)l in d&&b(u,o,d[l]);return u.length=o,u}})}}]);
//# sourceMappingURL=subvue.051b7b4b.js.map