{"version":3,"sources":["webpack:///./src/views/CreatePost.vue?e210","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/CreatePost.vue","webpack:///./src/views/CreatePost.vue?221e"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","id","type","value","create","enctype","title","placeholder","ref","subvue","imagePreview","style","image","name","fileChanged","accept","content","rows","cols","data","methods","formData","FormData","append","console","log","PostsService","then","response","$router","push","params","subvuePermalink","permalink","catch","e","target","files","reader","FileReader","onload","result","readAsDataURL","mounted","$refs","focus","render","__scopeId"],"mappings":"0GAAA,W,qBCAA,IAAIA,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKC,MAAMC,MAAMN,GAAQ,GAC1D,MAAOO,GACP,MAAO,Q,uKChBRC,MAAM,yB,EACT,eAAoB,UAAhB,eAAW,G,GAEVA,MAAM,S,GAIJC,GAAG,gB,2BAEgB,iC,EAA6B,eAAI,mB,iBAAA,uB,YAQzD,eAAwD,SAAjDD,MAAM,SAASE,KAAK,SAASC,MAAM,e,iFAjB9C,eAmBM,MAnBN,EAmBM,CAlBJ,EACA,eAgBO,QAhBA,SAAM,8CAAU,EAAAC,QAAA,EAAAA,OAAA,qBAAM,cAAEC,QAAQ,uB,CACrC,eAAgC,IAAhC,EAAgC,eAAZ,EAAAN,OAAK,G,eACzB,eAAmE,S,qDAAnD,EAAAO,MAAK,IAAEJ,KAAK,OAAOK,YAAY,QAAQC,IAAI,S,mBAA3C,EAAAF,S,eAChB,eAAyD,S,qDAAzC,EAAAG,OAAM,IAAEP,KAAK,OAAOK,YAAY,U,mBAAhC,EAAAE,UACL,EAAAC,c,iBAAX,eAAyG,O,MAAhFT,GAAG,gBAAiBU,MAAK,yBAA6B,EAAAD,aAAY,K,+BAC3F,eAQM,MARN,EAQM,CAPJ,eAKI,UAJW,EAAAE,O,iBACb,eAEO,wBADF,EAAAA,MAAMC,MAAI,K,iBAFf,eAA+E,U,EAA9B,E,OAKnD,eAA0D,SAAnDX,KAAK,OAAQ,SAAM,8BAAE,EAAAY,aAAA,EAAAA,YAAA,qBAAaC,OAAO,W,0BAElD,eAA6F,Y,qDAA1E,EAAAC,QAAO,IAAEH,KAAK,OAAON,YAAY,UAAUU,KAAK,KAAKC,KAAK,M,mBAA1D,EAAAF,WACnB,G,qBAQS,GACXH,KAAM,cAENM,KAHW,WAIP,MAAO,CACHb,MAAO,GACPG,OAAQ,GACRO,QAAS,GACTjB,MAAO,KACPa,MAAO,KACPF,aAAc,OAItBU,QAAS,CACLhB,OADK,WACI,WACDiB,EAAW,IAAIC,SACnBD,EAASE,OAAO,QAAS1B,KAAKS,OAC9Be,EAASE,OAAO,SAAU1B,KAAKY,QAC/BY,EAASE,OAAO,UAAW1B,KAAKmB,SAChCQ,QAAQC,IAAIJ,GAGRxB,KAAKe,OACLS,EAASE,OAAO,QAAS1B,KAAKe,MAAOf,KAAKe,MAAMC,MAGpDa,EAAA,KAAatB,OAAOiB,GACfM,MAAK,SAAAC,GACF,EAAKC,QAAQC,KAAK,CACdjB,KAAM,OACNkB,OAAQ,CAAE9B,GAAI2B,EAAST,KAAKlB,GAAI+B,gBAAiBJ,EAAST,KAAKV,OAAOwB,gBAG7EC,OAAM,SAAAnC,GACH,EAAKA,MAAQA,EAAM6B,SAAST,KAAKpB,UAI7Ce,YAzBK,SAyBOqB,GAAG,WACXtC,KAAKe,MAAQuB,EAAEC,OAAOC,MAAM,GAG5B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACL,GACb,EAAKzB,aAAeyB,EAAEC,OAAOK,QAEjCH,EAAOI,cAAc7C,KAAKe,SAIlC+B,QAnDW,WAqDP9C,KAAK+C,MAAMtC,MAAMuC,U,UC1EzB,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/create.155acc37.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreatePost.vue?vue&type=style&index=0&id=754a4b51&scoped=true&lang=css\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template lang=\"html\">\r\n  <div class=\"create-post container\">\r\n    <h1>Create Post</h1>\r\n    <form @submit.prevent=\"create\" enctype=\"multipart/form-data\">\r\n      <p class=\"error\">{{ error }}</p>\r\n      <input v-model=\"title\" type=\"text\" placeholder=\"Title\" ref=\"title\">\r\n      <input v-model=\"subvue\" type=\"text\" placeholder=\"Subvue\">\r\n      <div v-if=\"imagePreview\" id=\"image-preview\" :style=\"'background-image: url(' + imagePreview + ')'\"></div>\r\n      <div id=\"image-upload\">\r\n        <p>\r\n          <span v-if=\"!image\">Drag your image here to begin<br> or click to browse</span>\r\n          <span v-else>\r\n            {{ image.name }}\r\n          </span>\r\n        </p>\r\n        <input type=\"file\" @change=\"fileChanged\" accept=\"image/*\">\r\n      </div>\r\n      <textarea v-model=\"content\" name=\"name\" placeholder=\"Content\" rows=\"25\" cols=\"80\"></textarea>\r\n      <input class=\"button\" type=\"submit\" value=\"Create post\">\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostsService from '@/services/PostsService'\r\n\r\nexport default {\r\n    name: 'create-post',\r\n\r\n    data() {\r\n        return {\r\n            title: '',\r\n            subvue: '',\r\n            content: '',\r\n            error: null,\r\n            image: null,\r\n            imagePreview: null,\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        create() {\r\n            var formData = new FormData();\r\n            formData.append('title', this.title)\r\n            formData.append('subvue', this.subvue)\r\n            formData.append('content', this.content)\r\n            console.log(formData)\r\n\r\n            // If photo has been set\r\n            if (this.image) {\r\n                formData.append('image', this.image, this.image.name)\r\n            }\r\n\r\n            PostsService.create(formData)\r\n                .then(response => {\r\n                    this.$router.push({\r\n                        name: 'Post',\r\n                        params: { id: response.data.id, subvuePermalink: response.data.subvue.permalink }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.error = error.response.data.error\r\n                })\r\n        },\r\n\r\n        fileChanged(e) {\r\n            this.image = e.target.files[0]\r\n\r\n            // Show image preview\r\n            var reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                this.imagePreview = e.target.result;\r\n            };\r\n            reader.readAsDataURL(this.image);\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        // Focus title\r\n        this.$refs.title.focus();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"css\">\r\nform {\r\n    max-width: 1500px;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n    display: block;\r\n    width: 100%;\r\n    margin: 0;\r\n    border: none;\r\n    background: rgb(223, 224, 221);\r\n    padding: 15px;\r\n    margin: 20px 0;\r\n\r\n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\r\n    -moz-box-sizing: border-box; /* Firefox, other Gecko */\r\n    box-sizing: border-box; /* Opera/IE 8+ */\r\n}\r\n\r\n#image-upload {\r\n    outline: 2px dashed grey;\r\n    outline-offset: -10px;\r\n    background: rgb(223, 224, 221);\r\n    color: dimgray;\r\n    cursor: pointer;\r\n    position: relative;\r\n    height: 100px;\r\n}\r\n\r\n#image-upload:hover {\r\n    background: rgb(191, 191, 191);\r\n}\r\n\r\n#image-upload input {\r\n    opacity: 0; /* invisible but it's there! */\r\n    width: 100%;\r\n    height: 100%;\r\n    cursor: pointer;\r\n}\r\n\r\n#image-upload p {\r\n    text-align: center;\r\n    position: absolute;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: 50%;\r\n    height: 30%;\r\n    margin: auto;\r\n    width: 100%;\r\n}\r\n\r\n#image-preview {\r\n    margin: 0 auto;\r\n    max-width: 250px;\r\n    width: 100%;\r\n    height: 150px;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: center;\r\n}\r\n</style>\r\n","import { render } from \"./CreatePost.vue?vue&type=template&id=754a4b51&scoped=true&lang=html\"\nimport script from \"./CreatePost.vue?vue&type=script&lang=js\"\nexport * from \"./CreatePost.vue?vue&type=script&lang=js\"\n\nimport \"./CreatePost.vue?vue&type=style&index=0&id=754a4b51&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-754a4b51\"\n\nexport default script"],"sourceRoot":""}